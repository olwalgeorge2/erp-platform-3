components:
  schemas:
    ValidationProblemDetail:
      description: Canonical validation error payload shared by accounting/AP/AR services.
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: string
          description: Stable machine-readable identifier (e.g., FINANCE_INVALID_CUSTOMER_NUMBER).
        message:
          type: string
          description: Localized message intended for UI display.
        traceId:
          type: string
          nullable: true
          description: Correlation identifier emitted in logs/metrics.
        details:
          type: object
          additionalProperties: true
          description: Optional metadata describing the failure.
        validationErrors:
          type: array
          description: Field-level validation failures when available.
          items:
            $ref: '#/components/schemas/ValidationError'
      example:
        code: FINANCE_INVALID_CUSTOMER_NUMBER
        message: Customer number must not be blank.
        traceId: 5de31c0a-1e4d-4f4d-8d5d-18cb9a2f9f22
        validationErrors:
          - field: customerNumber
            code: FINANCE_INVALID_CUSTOMER_NUMBER
            message: Customer number must not be blank.
            rejectedValue: ""
    ValidationError:
      description: Detailed information about a specific invalid field/parameter.
      type: object
      required:
        - field
        - code
        - message
      properties:
        field:
          type: string
          description: Name of the invalid input field or parameter.
        code:
          type: string
          description: Stable finance validation error code.
        message:
          type: string
          description: Localized validation message suitable for UI display.
        rejectedValue:
          type: string
          nullable: true
          description: Original value that failed validation, if available.
paths: {}
